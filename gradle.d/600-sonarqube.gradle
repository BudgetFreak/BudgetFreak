sonarqube {
    properties {
        property "sonar.projectName", "BudgetFreak"
        property "sonar.projectKey", "de.budgetfreak:budgetfreak"
        property "sonar.organization", "budgetfreak-github"
        if (!"master".equals(System.env.CIRCLE_BRANCH)) {
            property "sonar.branch.name", "${System.env.CIRCLE_BRANCH}"
        }
        property "sonar.host.url", "https://sonarcloud.io"
        property "sonar.login", "${System.env.SONAR_LOGIN}"

        // GitHub integration
//        if (project.hasProperty("sonarAnalyzePR") && System.env.CIRCLE_PR_NUMBER != null && System.env.CIRCLE_PR_NUMBER != "") {
////            println "GitHub PR is #${System.env.CIRCLE_PR_NUMBER}"
////            property "sonar.github.oauth", "${System.env.ROBOT_ACCOUNT_TOKEN}"
////            property "sonar.github.repository", "BudgetFreak/BudgetFreak"
////            property "sonar.github.pullRequest", "${System.env.CIRCLE_PR_NUMBER}"
////            property "sonar.github.disableInlineComments", "true"
////            property "sonar.analysis.mode", "issues"
////        }
    }
}